

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Contributing to InferLO &mdash; InferLO 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Marginal Probabilities with Elimination algorithms" href="experiments/marginal_probabilities.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> InferLO
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installing.html">Installing InferLO</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/getting_started.html">Getting started with InferLO</a></li>
</ul>
<p class="caption"><span class="caption-text">Experiments</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="experiments/inferlo_libdai.html">Inferlo and libDAI comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments/bucket_renormalization.html">Bucket renormalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments/marginal_probabilities.html">Marginal Probabilities with Elimination algorithms</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing to InferLO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#first-time-setup">First time setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#git">Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#development-cycle">Development cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-style">Code style</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-new-algorithms">Adding new algorithms</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">InferLO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Contributing to InferLO</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/contributing.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="contributing-to-inferlo">
<h1>Contributing to InferLO<a class="headerlink" href="#contributing-to-inferlo" title="Permalink to this headline">¶</a></h1>
<div class="section" id="first-time-setup">
<h2>First time setup<a class="headerlink" href="#first-time-setup" title="Permalink to this headline">¶</a></h2>
<p>You will need <a class="reference external" href="https://git-scm.com/">Git</a> and <a class="reference external" href="python.org">Python</a> 3.7+. It’s
recommended, but not necessary, to do all development in the virtual environment.</p>
<p>Clone the repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">InferLO</span><span class="o">/</span><span class="n">inferlo</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">inferlo</span>
</pre></div>
</div>
<p>Install the requirements:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">docs</span><span class="o">/</span><span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">tools</span><span class="o">/</span><span class="n">dev_requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Check that tests pass:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span>
</pre></div>
</div>
</div>
<div class="section" id="git">
<h2>Git<a class="headerlink" href="#git" title="Permalink to this headline">¶</a></h2>
<p>If you never worked with Git before, you will have to learn some Git basics. First of all,
read <a class="reference external" href="https://guides.github.com/introduction/git-handbook/">Git Handbook</a> and bookmark or print <a class="reference external" href="https://github.github.com/training-kit/downloads/github-git-cheat-sheet/">Git cheet sheet</a>. To really understand how Git works, check out <a class="reference external" href="https://git-scm.com/book/en/v2">this site</a>.</p>
</div>
<div class="section" id="development-cycle">
<h2>Development cycle<a class="headerlink" href="#development-cycle" title="Permalink to this headline">¶</a></h2>
<p>For making any changes you will have to create new branch, make your changes 
on that branch and then merge it with <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.</p>
<p><em>Process below applies to those who has commit access to repository.
If you don’t have it, you should fork this repository and make all changes to a
branch in your own repository. Then you should create pull request to merge
your branch with <code class="docutils literal notranslate"><span class="pre">master</span></code> branch of the main repository.</em></p>
<p>Create new branch (replace <code class="docutils literal notranslate"><span class="pre">my-branch</span></code> with descriptive name):
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">my-branch</span></code></p>
<p>If you are getting back to work on existing branch, switch to that branch
and sync it with master:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">my</span><span class="o">-</span><span class="n">branch</span>
<span class="n">git</span> <span class="n">merge</span> <span class="n">master</span>
</pre></div>
</div>
<p>Make your changes.</p>
<p>When you are ready to commit, check that tests pass and style check passes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span>
<span class="n">pycodestyle</span> <span class="n">inferlo</span> 
<span class="n">pylint</span> <span class="o">--</span><span class="n">rcfile</span><span class="o">=</span><span class="n">tools</span><span class="o">/</span><span class="n">pylintrc</span><span class="o">.</span><span class="n">txt</span> <span class="n">inferlo</span>
</pre></div>
</div>
<p>To save some time, you can run <code class="docutils literal notranslate"><span class="pre">tools/check_style.sh</span></code>
or <code class="docutils literal notranslate"><span class="pre">tools/check_style.bat</span></code> to perform style checks.</p>
<p>If checks don’t pass - make them pass.</p>
<p>Commit your changes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
<span class="n">git</span> <span class="n">commmit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;Commit description&#39;</span>
<span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">HEAD</span>
</pre></div>
</div>
<p>If you get error at this point saying “Updates were rejected”, then remote 
version of your branch was updated, you have to pull the changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">my</span><span class="o">-</span><span class="n">branch</span>
</pre></div>
</div>
<p>Now, go to GitHub and find your branch. Make sure that continuous integration
passes for your last commit. Now, 
<a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/creating-a-pull-request">create a pull request</a>.</p>
<p>Your pull request will be reviewed and you might be asked to make sme changes.</p>
<p>Finally, when your PR is approved,
<a class="reference external" href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/merging-a-pull-request">merge it</a>.</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><strong>Unit tests</strong>. All unit tests must pass. 
That can be checked by running <code class="docutils literal notranslate"><span class="pre">pytest</span></code> in root of the repository. 
When you are working on a new feature, to save time, you can run tests only for
the test file affected by your changes: <code class="docutils literal notranslate"><span class="pre">pytest</span> <span class="pre">path_to_file.py</span></code>, 
also PyCharm can run tests in one file or one package for you. 
Before pushing chages, please run global <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p></li>
<li><p><strong>Coverage</strong>. You should cover all functionality with tests. In other words, any
change to existing code which makes it incorrect must make some test to fail. We 
don’t enforce coverage automatically, but we might do it in the future.
Code reviewers should ask contributors to add tests if some behaviors are not
covered with tests.</p></li>
<li><p><strong>Style</strong>. We perform 2 independent style checks: 
<a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8</a> and 
<a class="reference external" href="https://www.pylint.org/">pylint</a>. PEP8 is set of simple rules about code layout.
We enforce them with <code class="docutils literal notranslate"><span class="pre">pycodestyle</span></code>. Most PEP8 violations can be automatically 
fixed by <code class="docutils literal notranslate"><span class="pre">autopep8</span></code>, and we have a simple script <code class="docutils literal notranslate"><span class="pre">tools/fix_style.sh</span></code> to
do that. Pylint performs series of more clever checks. Both
checks are mandatory - if they fail, continuous integration won’t let
yuo tom mege code to master.</p></li>
</ul>
</div>
<div class="section" id="code-style">
<h2>Code style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h2>
<p>Please follow <a class="reference external" href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>We use <a class="reference external" href="https://www.sphinx-doc.org/en/master/">sphinx</a> to automatically 
build the documentation. Documentation is authomatically exported to 
<a class="reference external" href="https://inferlo.readthedocs.io/">ReadTheDocs</a>.</p>
<p>In particular, pydocs are automatically converted to “API reference” section in
documentation. If you are adding new public class or function to the library,
you should add it to <code class="docutils literal notranslate"><span class="pre">docs/api.rst</span></code>.</p>
<p>To build documentation locally, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">docs</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>And then open <code class="docutils literal notranslate"><span class="pre">docs/_build/html/index.html</span></code>.</p>
<p>We have continuous integration check requiring that documentation builds. 
So, if you made any changes to documentation, you should build it locally to 
check that it builds.</p>
<p>To build the docs you will have to additionally install 
<a class="reference external" href="https://pandoc.org/">pandoc</a>. On Linux you can do that by running
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">intsall</span> <span class="pre">pandoc</span></code>.</p>
</div>
<div class="section" id="adding-new-algorithms">
<h2>Adding new algorithms<a class="headerlink" href="#adding-new-algorithms" title="Permalink to this headline">¶</a></h2>
<p>If you are adding new algorithm to solve a problem fo particular kind of problem,
for which we already have at least one algorithm, you should follow the following 
process.</p>
<p>Write your algorithm as a function, which takes graphical model object
as first parameter. If your algorithm has configurable parameters, they
should be keyword arguments with default values.</p>
<p>Then add call to your function from a method on model class. It should be 
conditioned on user passing your algorithm name as <code class="docutils literal notranslate"><span class="pre">algorithm</span></code> argument.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="experiments/marginal_probabilities.html" class="btn btn-neutral float-left" title="Marginal Probabilities with Elimination algorithms" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, InferLO developers.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>